sudo: required

dist: bionic

language: python
  - "3.6"
install:
  - sudo apt-get install python3-h5py
  - sudo apt-get install hdf5-helpers hdf5-tools
  - sudo apt-get install libhdf5-dev
  - dpkg -L libhdf5-dev
  - sudo apt-get install python3-requests
  - sudo apt-cache search netcdf
  - sudo apt-get install libnetcdf-dev
  - sudo apt-get install netcdf-bin
  - sudo apt-get install python3-jinja2
  - sudo apt-get install python3-six
  - sudo apt-get install python3-pip
  - sudo pip3 install setuptools --upgrade
  - sudo pip3 install pyparsing
  - sudo pip3 install rdflib
  - export HDF5_DIR=/usr/include/hdf5
  - export USE_SETUPCFG=0
  - export HDF5_INCDIR=/usr/include
  - export HDF5_LIBDIR=/usr/lib/x86_64-linux-gnu
  - sudo pip3 install netCDF4
  - wget https://github.com/marqh/terra/archive/master.zip
  - unzip master.zip
  - cd terra-master
  - sudo python3 setup.py --quiet install
  - cd ..
  - sudo python3 setup.py --quiet install
  - python3 -c 'import bald; print(bald); print(bald.__version__)'
  - which python3
  - python3 -c "import numpy; print('numpy: ' + numpy.__version__); import netCDF4; print('netCDF4: ' + netCDF4.__version__); print('###')"

script:
  python3 -m unittest discover -s bald.tests -v
